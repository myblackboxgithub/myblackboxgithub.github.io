<Page
    x:Class="MyActivities.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:MyActivities"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:valueConverter ="using:MyActivities.Converters"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
    <Page.Resources>
        <valueConverter:TimeSpanToString x:Key="TimeSpanToString"></valueConverter:TimeSpanToString>
        <valueConverter:DateTimeToDateTimeOffsetConverter x:Key="DateTimeToDateTimeOffsetConverter"></valueConverter:DateTimeToDateTimeOffsetConverter>
        <valueConverter:TimeWindowToString x:Key="TimeWindowToString"></valueConverter:TimeWindowToString>
    </Page.Resources>
    <Page.BottomAppBar>
        <CommandBar>
            <AppBarButton x:ConnectionId='1' Icon="Previous" Label="Previous" Name="btnPrevious"                         />
            <AppBarButton x:ConnectionId='2' Icon="List" Label="Details" Name="btnDetails"                        />
            <AppBarButton x:ConnectionId='3' Icon="Next" Label="Next" Name="btnNext"                     />
        </CommandBar>
    </Page.BottomAppBar>

    <ScrollViewer>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="Auto"></RowDefinition>
                <RowDefinition Height="*"></RowDefinition>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Margin="5" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:ConnectionId='4' x:Name="btnSave" Content="Save to SQLite" Margin="20 0 0 0"                        ></Button>
                <Button x:ConnectionId='5' x:Name="btnMantasPage" Content="MantasPAge" Margin="20 0 0 0"                             ></Button>

                <!--<Button x:Name="btnView" Content="View" Margin="100 0 0 0" Click="BtnView_OnClick"></Button>-->
            </StackPanel>
            <StackPanel Grid.Row="1">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Name="tbkDate" Text="{Binding TimeWindow, Converter={StaticResource TimeWindowToString}}" Style="{StaticResource HeaderTextBlockStyle}" FontSize="24"></TextBlock>
                    <TextBlock Name="tbkTotalCount" Text="{Binding GetNumberOfActivities}" Style="{StaticResource HeaderTextBlockStyle}" FontSize="24" Margin="10 0 0 0"></TextBlock>
                </StackPanel>
            </StackPanel>
            <StackPanel Grid.Row="2" Orientation="Horizontal" Margin="20 5">
                <!--<TextBlock Text="Hour" Style="{StaticResource BodyTextBlockStyle}" FontSize="24"></TextBlock>
                <TextBlock Text="Idle" Style="{StaticResource BodyTextBlockStyle}" FontSize="24" Margin="5 0 0 0"></TextBlock>
                <TextBlock Text="Activities" Style="{StaticResource BodyTextBlockStyle}" FontSize="24" Margin="5 0 0 0"></TextBlock>-->
            </StackPanel>
            <StackPanel Grid.Row="3" Margin="20 5">
                <ListView x:Name="lstSummary" ItemsSource="{Binding ListData}">
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Border BorderBrush="Aqua" Margin="5">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding Hour}" Style="{StaticResource BodyTextBlockStyle}" FontSize="24" Margin="5 0 10 0"></TextBlock>
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="{Binding ActivityName}" Style="{StaticResource BodyTextBlockStyle}" FontSize="24" Margin="5 0 0 0"></TextBlock>
                                        <TextBlock Text="{Binding ActivityTime, Converter={StaticResource TimeSpanToString}}" Style="{StaticResource BodyTextBlockStyle}" FontSize="24" Margin="5 0 0 0"></TextBlock>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>



            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>

